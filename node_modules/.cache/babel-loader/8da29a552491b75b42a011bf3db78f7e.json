{"ast":null,"code":"var _jsxFileName = \"D:\\\\trueapp\\\\true\\\\src\\\\componets\\\\Registration\\\\Registration.js\";\nimport React from 'react';\nimport '../Registration/Registration.css';\nimport { Link } from 'react-router-dom';\nimport base64 from 'base-64';\nimport FlashMessage from 'react-flash-message';\nimport axios from 'axios';\n\nclass Registration extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: {},\n      errors: {},\n      mobileno: '',\n      loading: false,\n      message: false,\n      request_time: '',\n      otp: '',\n      msgcode: '',\n      msgcode1: '',\n      msg: false,\n      company_id: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.MobileNoChange = this.MobileNoChange.bind(this);\n    this.sendMobileVerifyOtp = this.sendMobileVerifyOtp.bind(this);\n    this.RegistrationDetailSend = this.RegistrationDetailSend.bind(this);\n  }\n\n  MobileNoChange(e) {\n    //const message = value.slice(0, maxLength);\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  sendMobileVerifyOtp(e) {\n    e.preventDefault();\n    const mobileno = this.state.mobileno;\n    this.setState({\n      loading: true,\n      message: true,\n      msg: true\n    }); // const passdata = mobileno\n\n    let formData = new FormData();\n    formData.append('mobile', mobileno);\n    let init = {\n      method: 'POST',\n      headers: {\n        'content-type': 'multipart/form-data'\n      },\n      mode: 'cors',\n      cache: 'default',\n      dataType: 'json',\n      type: 'POST',\n      async: true\n    };\n    axios.post('https://idea.truebook.in/tps_api/index.php?view=mobile_verify', formData, init).then(response => {\n      const tm = response.data.request_time;\n      const otp = response.data.data;\n      const msg1 = response.data.MSG; // alert(msg);\n      //var bytes = base64.decode(otp);\n\n      this.setState({\n        request_time: tm,\n        otp: otp,\n        msg: msg1,\n        msgcode: response.data.msgcode\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        loading: false,\n        message: false,\n        msg: false\n      });\n    });\n  }\n\n  RegistrationDetailSend(e) {\n    e.preventDefault(); // alert(this.state.mobileno);\n\n    if (this.handleValidation()) {\n      var bytes = base64.decode(this.state.otp);\n      alert(bytes);\n\n      if (bytes !== this.state.fields.verifyno) {\n        //  alert ('OTP NOT VALID PLEASE CHECK YOUR OTP');\n        return false;\n      }\n\n      let init = {\n        method: 'POST',\n        headers: {\n          'content-type': 'multipart/form-data'\n        },\n        mode: 'cors',\n        cache: 'default',\n        dataType: 'json',\n        type: 'POST',\n        async: true\n      };\n      const name = this.state.fields.name;\n      const email = this.state.fields.email;\n      const mobileno = this.state.mobileno; // const verifyno= this.state.fields.verifyno\n\n      const password = this.state.fields.password;\n      const re_password = this.state.fields.cpassword;\n\n      if (password !== re_password) {\n        return false;\n      }\n\n      let formData = new FormData();\n      formData.append('name', name);\n      formData.append('email', email);\n      formData.append('phone', mobileno); // formData.append('verifyno', verifyno);\n\n      formData.append('pwd', password);\n      formData.append('cpwd', re_password);\n      formData.append('request_time', this.state.request_time);\n      axios.post('https://idea.truebook.in/tps_api/index.php?view=register', formData, init).then(response => {\n        console.log(response.data.msgcode);\n        const msgcode = response.data.msgcode;\n        const company_id = response.data.data.tpsData.company_id; // localStorage.setItem('formData');\n\n        this.setState({\n          msgcode1: response.data.msgcode\n        });\n\n        if (msgcode === 0) {// this.props.history.push(\"/\");\n        }\n\n        this.setState({\n          company_id: company_id\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {// alert(\"Please Fill Up Fields\");\n      //  this.props.history.push(\"/register\");\n    }\n  }\n  /**VALIDATION REGISTRATION FORM HERE..... */\n\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true; //Name\n\n    if (!fields[\"name\"]) {\n      formIsValid = false;\n      errors[\"name\"] = \"*Name is required\";\n    } // if(typeof fields[\"name\"] !== \"undefined\"){\n    //    if(!fields[\"name\"].match(/^[a-zA-Z]+$/)){\n    //       formIsValid = false;\n    //       errors[\"name\"] = \"Only letters Allow\";\n    //    }        \n    // }\n    //Email\n\n\n    if (!fields[\"email\"]) {\n      formIsValid = false;\n      errors[\"email\"] = \"*Email is Required\";\n    }\n\n    if (typeof fields[\"email\"] !== \"undefined\") {\n      let lastAtPos = fields[\"email\"].lastIndexOf('@');\n      let lastDotPos = fields[\"email\"].lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && fields[\"email\"].length - lastDotPos > 2)) {\n        formIsValid = false;\n        errors[\"email\"] = \"Email is not valid\";\n      }\n    }\n\n    if (!fields[\"verifyno\"]) {\n      formIsValid = false;\n      errors[\"verifyno\"] = \"*Verify Code Required\";\n    }\n\n    if (typeof fields[\"verifyno\"] !== \"undefined\") {\n      if (!fields[\"verifyno\"].match(/^[0-9]+$/)) {\n        formIsValid = false;\n        errors[\"verifyno\"] = \"Only Digits Allow\";\n      }\n    }\n\n    if (!fields[\"password\"]) {\n      formIsValid = false;\n      errors[\"password\"] = \"*Password Is Required\";\n    }\n\n    if (!fields[\"cpassword\"]) {\n      formIsValid = false;\n      errors[\"cpassword\"] = \"*Conform Password Is Required\";\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({\n      fields\n    }); //console.log(fields)\n  }\n\n  render() {\n    const password = this.state.fields.password;\n    const re_password = this.state.fields.cpassword;\n    const bytes = base64.decode(this.state.otp); //const bytesotp = this.state.bytes_otp;\n    //alert(bytesotp);\n    // if(bytes !== this.state.fields.verifyno){\n    //    alert ('OTP NOT VALID PLEASE CHECK YOUR OTP');\n    //   return false;\n    // }\n\n    const error = React.createElement(FlashMessage, {\n      duration: 3000,\n      persistOnHover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"errormsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, this.state.msg));\n    const success = React.createElement(FlashMessage, {\n      duration: 2000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"sendmsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, this.state.msg));\n    const Reg_success = React.createElement(FlashMessage, {\n      duration: 5000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"sendmsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"sussessfully Registration..!Please Login \")); // const password= this.state.fields.password\n    // const re_password= this.state.fields.cpassword\n    // var bytes = base64.decode(this.state.otp);\n\n    return React.createElement(\"div\", {\n      className: \"register_main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"registerForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(\"hgroup\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, bytes !== this.state.fields.verifyno && this.state.fields.verifyno !== \"\" ? React.createElement(FlashMsgOtp, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }) : \"\", re_password !== password ? React.createElement(FlashMsgPsw, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }) : \"\", this.state.msgcode1 === 0 ? Reg_success : \"\"), React.createElement(\"div\", {\n      class: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"icon novi-icon icon-circle icon-bordered icon-lg icon-default fa fa-users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"offset-top-10 text-darker big font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"Create your account\")))), React.createElement(\"form\", {\n      encType: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Name\",\n      name: \"name\",\n      className: \"tname\",\n      value: this.state.fields[\"name\"],\n      onChange: this.handleChange.bind(this, \"name\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, this.state.errors.name)), React.createElement(\"div\", {\n      className: \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      name: \"email\",\n      className: \"temail\",\n      value: this.state.fields[\"email\"],\n      onChange: this.handleChange.bind(this, \"email\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, this.state.errors.email)), React.createElement(\"div\", {\n      className: \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"Mobile No\",\n      name: \"mobileno\",\n      value: this.state.mobileno,\n      onChange: this.MobileNoChange,\n      className: \"tmobile\",\n      minLength: \"11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"rbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.sendMobileVerifyOtp,\n      className: \"btn btn-deluge btn-sm\",\n      id: \"verifymobileno\",\n      name: \"verifymobileno\",\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, \"Send OTP\"), this.state.msgcode === 0 && this.state.message ? success : '', this.state.msgcode === 1 && this.state.message ? error : ''), React.createElement(\"div\", {\n      className: \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Verify Code\",\n      name: \"verifyno\",\n      className: \"tvcode\",\n      value: this.state.fields[\"verifyno\"],\n      onChange: this.handleChange.bind(this, \"verifyno\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, this.state.errors.verifyno)), React.createElement(\"div\", {\n      className: \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      className: \"tpass\",\n      value: this.state.fields[\"password\"],\n      onChange: this.handleChange.bind(this, \"password\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, this.state.errors.password)), React.createElement(\"div\", {\n      className: \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      ref: \"cpassword\",\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      name: \"cpassword\",\n      className: \"tpass\",\n      value: this.state.fields[\"cpassword\"],\n      onChange: this.handleChange.bind(this, \"cpassword\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, this.state.errors.cpassword)), React.createElement(\"button\", {\n      onClick: this.RegistrationDetailSend.bind(this),\n      type: \"button\",\n      className: \"buttonui2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \" \", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \" Register \"), React.createElement(\"div\", {\n      className: \"ripples buttonRipples\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"ripplesCircle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"powered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, \"You have Already Account ? \", React.createElement(Link, {\n      to: \"/\",\n      className: \"link_login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, \"Login\")))));\n  }\n\n}\n\nclass FlashMsgPsw extends React.Component {\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"alert alert-warning alert-dismissible fade show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, \"oopps!..\"), \" Password Does not Match!...\", React.createElement(\"button\", {\n      type: \"button\",\n      class: \"close\",\n      \"data-dismiss\": \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, \"\\xD7\")));\n  }\n\n}\n\nclass FlashMsgOtp extends React.Component {\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"alert alert-warning alert-dismissible fade show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, \"oopps!..\"), \" OTP Does not Match!...\", React.createElement(\"button\", {\n      type: \"button\",\n      class: \"close\",\n      \"data-dismiss\": \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, \"\\xD7\")));\n  }\n\n}\n\nexport default Registration;","map":{"version":3,"sources":["D:\\trueapp\\true\\src\\componets\\Registration\\Registration.js"],"names":["React","Link","base64","FlashMessage","axios","Registration","Component","constructor","props","state","fields","errors","mobileno","loading","message","request_time","otp","msgcode","msgcode1","msg","company_id","handleChange","bind","MobileNoChange","sendMobileVerifyOtp","RegistrationDetailSend","e","setState","target","name","value","preventDefault","formData","FormData","append","init","method","headers","mode","cache","dataType","type","async","post","then","response","tm","data","msg1","MSG","catch","err","console","log","handleValidation","bytes","decode","alert","verifyno","email","password","re_password","cpassword","tpsData","formIsValid","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","match","field","render","error","success","Reg_success","FlashMsgPsw","FlashMsgOtp"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../Registration/Registration.css';\r\nimport { Link } from 'react-router-dom';\r\nimport base64 from 'base-64';\r\nimport FlashMessage from 'react-flash-message';\r\nimport axios from 'axios';\r\nclass Registration extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            fields: {},\r\n            errors: {},\r\n            mobileno:'',\r\n            loading:false,\r\n            message:false,\r\n            request_time:'',\r\n            otp:'',\r\n            msgcode:'',\r\n            msgcode1:'',\r\n            msg:false,\r\n            company_id:''\r\n\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.MobileNoChange = this.MobileNoChange.bind(this);\r\n        this.sendMobileVerifyOtp = this.sendMobileVerifyOtp.bind(this);\r\n        this.RegistrationDetailSend = this.RegistrationDetailSend.bind(this);\r\n      }\r\n \r\n      MobileNoChange(e) {\r\n        //const message = value.slice(0, maxLength);\r\n        this.setState({ [e.target.name]: e.target.value });\r\n      }\r\n      \r\n      sendMobileVerifyOtp(e) {\r\n        e.preventDefault();\r\n        const mobileno= this.state.mobileno\r\n        \r\n        this.setState({\r\n          loading:true,\r\n          message:true,\r\n          msg:true,\r\n        })\r\n       \r\n       // const passdata = mobileno\r\n        let formData = new FormData();\r\n        formData.append('mobile', mobileno);\r\n        let init = {\r\n          method: 'POST',\r\n          headers: { 'content-type': 'multipart/form-data' },\r\n          mode: 'cors',\r\n          cache: 'default',\r\n          dataType: 'json',\r\n          type:     'POST',\r\n          async:    true,\r\n          \r\n        };\r\n\r\n        axios.post('https://idea.truebook.in/tps_api/index.php?view=mobile_verify',formData,init)\r\n        .then(response => {\r\n          \r\n          const tm = response.data.request_time;\r\n          const otp = response.data.data;\r\n          const msg1 = response.data.MSG;\r\n         \r\n         // alert(msg);\r\n      \r\n          //var bytes = base64.decode(otp);\r\n         \r\n          this.setState({\r\n            request_time:tm,\r\n            otp:otp,\r\n            msg:msg1,\r\n            msgcode:response.data.msgcode\r\n          });\r\n          \r\n          \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.setState({\r\n            loading:false,\r\n            message:false,\r\n            msg:false\r\n\r\n          })\r\n        })\r\n  \r\n      }\r\n      \r\n    \r\n      RegistrationDetailSend(e){\r\n        e.preventDefault();\r\n          // alert(this.state.mobileno);\r\n        if(this.handleValidation()){\r\n         \r\n          var bytes = base64.decode(this.state.otp);\r\n         \r\n        alert(bytes);\r\n         \r\n          if(bytes !== this.state.fields.verifyno){\r\n            \r\n            //  alert ('OTP NOT VALID PLEASE CHECK YOUR OTP');\r\n            return false;\r\n          }\r\n\r\n          let init = {\r\n            method: 'POST',\r\n            headers: { 'content-type': 'multipart/form-data' },\r\n            mode: 'cors',\r\n            cache: 'default',\r\n            dataType: 'json',\r\n            type:     'POST',\r\n            async:    true,\r\n          };\r\n          \r\n          const name= this.state.fields.name\r\n          const email= this.state.fields.email\r\n          const mobileno= this.state.mobileno\r\n          // const verifyno= this.state.fields.verifyno\r\n           const password= this.state.fields.password\r\n           const re_password= this.state.fields.cpassword\r\n          \r\n          if(password !== re_password){\r\n           \r\n            return false;\r\n           }\r\n          let formData = new FormData();\r\n  \r\n          formData.append('name', name);\r\n          formData.append('email', email);\r\n          formData.append('phone', mobileno);\r\n          // formData.append('verifyno', verifyno);\r\n          formData.append('pwd', password);\r\n          formData.append('cpwd', re_password);\r\n\r\n          formData.append('request_time', this.state.request_time);\r\n        axios.post('https://idea.truebook.in/tps_api/index.php?view=register',formData,init)\r\n        .then(response => {\r\n          console.log(response.data.msgcode);\r\n          const msgcode= response.data.msgcode;\r\n          const company_id = response.data.data.tpsData.company_id;\r\n          // localStorage.setItem('formData');\r\n          this.setState({\r\n            msgcode1:response.data.msgcode\r\n          });\r\n\r\n          if(msgcode===0){\r\n            \r\n              // this.props.history.push(\"/\");\r\n          }\r\n          this.setState({\r\n            company_id:company_id\r\n          })\r\n        \r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n      \r\n       \r\n        \r\n       }\r\n      \r\n       else{\r\n       \r\n          // alert(\"Please Fill Up Fields\");\r\n\r\n        //  this.props.history.push(\"/register\");\r\n\r\n       }\r\n        \r\n\r\n      }\r\n     \r\n      /**VALIDATION REGISTRATION FORM HERE..... */\r\n      handleValidation(){\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n   \r\n        //Name\r\n        if(!fields[\"name\"]){\r\n           formIsValid = false;\r\n           errors[\"name\"] = \"*Name is required\";\r\n        }\r\n   \r\n        // if(typeof fields[\"name\"] !== \"undefined\"){\r\n        //    if(!fields[\"name\"].match(/^[a-zA-Z]+$/)){\r\n        //       formIsValid = false;\r\n        //       errors[\"name\"] = \"Only letters Allow\";\r\n        //    }        \r\n        // }\r\n   \r\n        //Email\r\n        if(!fields[\"email\"]){\r\n           formIsValid = false;\r\n           errors[\"email\"] = \"*Email is Required\";\r\n        }\r\n   \r\n        if(typeof fields[\"email\"] !== \"undefined\"){\r\n           let lastAtPos = fields[\"email\"].lastIndexOf('@');\r\n           let lastDotPos = fields[\"email\"].lastIndexOf('.');\r\n   \r\n           if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && (fields[\"email\"].length - lastDotPos) > 2)) {\r\n              formIsValid = false;\r\n              errors[\"email\"] = \"Email is not valid\";\r\n            }\r\n       } \r\n       \r\n   \r\n    if(!fields[\"verifyno\"]){\r\n     formIsValid = false;\r\n     errors[\"verifyno\"] = \"*Verify Code Required\";\r\n   } \r\n   if(typeof fields[\"verifyno\"] !== \"undefined\"){\r\n     if(!fields[\"verifyno\"].match(/^[0-9]+$/)){\r\n        formIsValid = false;\r\n        errors[\"verifyno\"] = \"Only Digits Allow\";\r\n     }        \r\n   }\r\n\r\n       \r\n\r\n   \r\n   if(!fields[\"password\"]){\r\n     formIsValid = false;\r\n     errors[\"password\"] = \"*Password Is Required\";\r\n   } \r\n   \r\n   if(!fields[\"cpassword\"]){\r\n     formIsValid = false;\r\n     errors[\"cpassword\"] = \"*Conform Password Is Required\";\r\n   } \r\n   \r\n       this.setState({errors: errors});\r\n       return formIsValid;\r\n   }\r\n   \r\n  \r\n    handleChange(field, e){         \r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;        \r\n        this.setState({fields});\r\n        //console.log(fields)\r\n        \r\n    }\r\n\r\n    render() {\r\n      const password= this.state.fields.password\r\n      const re_password= this.state.fields.cpassword\r\n      const bytes =  base64.decode(this.state.otp);\r\n     //const bytesotp = this.state.bytes_otp;\r\n     //alert(bytesotp);\r\n\r\n      // if(bytes !== this.state.fields.verifyno){\r\n      //    alert ('OTP NOT VALID PLEASE CHECK YOUR OTP');\r\n      //   return false;\r\n      // }\r\n      \r\n    \r\n  \r\n      const error =  <FlashMessage duration={3000} persistOnHover={true}>\r\n      <span className=\"errormsg\">{this.state.msg}</span>\r\n     \r\n        </FlashMessage>;\r\n \r\n      const success =  <FlashMessage duration={2000}>\r\n      <span className=\"sendmsg\">{this.state.msg}</span>\r\n        </FlashMessage>; \r\n\r\n      const Reg_success =  <FlashMessage duration={5000}>\r\n      <span className=\"sendmsg\">sussessfully Registration..!Please Login </span>\r\n        </FlashMessage>; \r\n\r\n     \r\n      // const password= this.state.fields.password\r\n      // const re_password= this.state.fields.cpassword\r\n      // var bytes = base64.decode(this.state.otp);\r\n            return (\r\n            <div className=\"register_main\"> \r\n              <div className=\"register\">\r\n            \r\n     {/* <Dashboard company_id_blank={this.state.company_id}/> */}\r\n                  \r\n                {/* {this.loadingOrmessage()} */}\r\n                   <div className=\"registerForm\"> \r\n                        <hgroup>\r\n                          <div>\r\n                            {bytes !== this.state.fields.verifyno  && this.state.fields.verifyno !== \"\" ? <FlashMsgOtp />: \"\"}\r\n                            {/* {bytes !== this.state.fields.verifyno ? <FlashMsgOtp />:\"\"} */}\r\n                           \r\n                            {re_password !==  password ? <FlashMsgPsw />:\"\"}\r\n                            {this.state.msgcode1 === 0 ? Reg_success:\"\"}\r\n                          </div>\r\n                        <div class=\"text-center\">\r\n                        <span class=\"icon novi-icon icon-circle icon-bordered icon-lg icon-default fa fa-users\"></span>\r\n                        <div>\r\n                            <div class=\"offset-top-10 text-darker big font-weight-bold\">Create your account</div>\r\n                        </div>\r\n                    </div>\r\n                       \r\n                        {/* <span class=\"icon novi-icon icon-circle icon-bordered icon-lg icon-default mdi mdi-account-multiple-outline\"></span> */}\r\n                        </hgroup>\r\n                        <form encType=\"multipart/form-data\">\r\n                        <div className=\"group\">\r\n                            <input type=\"text\" placeholder=\"Name\" name=\"name\" className=\"tname\" value={this.state.fields[\"name\"]} onChange={this.handleChange.bind(this, \"name\")}/><span className=\"highlight\"></span><span className=\"bar\"></span>\r\n                          \r\n                            <span className=\"errorMsg\">{this.state.errors.name}</span>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <input type=\"email\" placeholder=\"Email\" name=\"email\" className=\"temail\" value={this.state.fields[\"email\"]} onChange={this.handleChange.bind(this, \"email\")}/><span className=\"highlight\"></span><span className=\"bar\"></span>\r\n                           \r\n                            <span className=\"errorMsg\">{this.state.errors.email}</span>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <input type=\"number\" placeholder=\"Mobile No\" name=\"mobileno\" value={this.state.mobileno} onChange={this.MobileNoChange} className=\"tmobile\" minLength=\"11\"/><span className=\"highlight\"></span><span className=\"rbar\"></span>\r\n                         \r\n                            <button onClick= {this.sendMobileVerifyOtp} className=\"btn btn-deluge btn-sm\" id=\"verifymobileno\" name=\"verifymobileno\" type=\"button\">Send OTP</button>\r\n                            { this.state.msgcode===0 && this.state.message ? success :''}\r\n                            { this.state.msgcode===1 && this.state.message ? error :''}\r\n                           \r\n                            {/* { this.state.msgcode===0 && this.state.message ? success :this.state.message && this.state.msgcode===1 ? error :''} */}\r\n                         \r\n                           \r\n                            {/* <span className=\"errorMsg\">{this.state.errors.mobileno}</span> */}\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <input type=\"text\" placeholder=\"Verify Code\" name=\"verifyno\" className=\"tvcode\" value={this.state.fields[\"verifyno\"]} onChange={this.handleChange.bind(this,\"verifyno\")}/><span className=\"highlight\"></span><span className=\"bar\"></span>\r\n                            <span className=\"errorMsg\">{this.state.errors.verifyno}</span>\r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <input type=\"password\"  placeholder=\"Password\" name=\"password\" className=\"tpass\" value={this.state.fields[\"password\"]} onChange={this.handleChange.bind(this,\"password\")}/><span className=\"highlight\"></span><span className=\"bar\"></span>\r\n                            <span className=\"errorMsg\">{this.state.errors.password}</span>\r\n                           \r\n                        </div>\r\n                        <div className=\"group\">\r\n                            <input ref=\"cpassword\" type=\"password\" placeholder=\"Confirm Password\" name=\"cpassword\" className=\"tpass\" value={this.state.fields[\"cpassword\"]} onChange={this.handleChange.bind(this,\"cpassword\")}/><span className=\"highlight\"></span><span className=\"bar\"></span>\r\n                            <span className=\"errorMsg\">{this.state.errors.cpassword}</span>\r\n                            {/* {(password !== re_password && re_password !=='')  ? passwordNotMatch:''} */}\r\n                          \r\n                        </div>\r\n                            <button onClick={this.RegistrationDetailSend.bind(this)} type=\"button\" className=\"buttonui2\"> <span> Register </span>\r\n                                <div className=\"ripples buttonRipples\"><span className=\"ripplesCircle\"></span></div>\r\n                            </button>     \r\n                        </form>\r\n                        <div className=\"powered\">\r\n                        You have Already Account ? <Link to=\"/\" className=\"link_login\">Login</Link>\r\n                        </div>\r\n\r\n                    </div>\r\n              </div>\r\n            </div> \r\n            );\r\n          }\r\n}\r\nclass FlashMsgPsw extends React.Component{\r\n  render(){\r\n   \r\n\r\n    return(\r\n\r\n        <div>\r\n        <div class=\"alert alert-warning alert-dismissible fade show\">\r\n            <strong>oopps!..</strong> Password Does not Match!...\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>\r\n        </div> \r\n        </div>\r\n    );\r\n  }\r\n}\r\n \r\nclass FlashMsgOtp extends React.Component{\r\n  render(){\r\n    \r\n    return(\r\n\r\n        <div>\r\n        <div class=\"alert alert-warning alert-dismissible fade show\">\r\n            <strong>oopps!..</strong> OTP Does not Match!...\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>\r\n        </div> \r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Registration;"]},"metadata":{},"sourceType":"module"}