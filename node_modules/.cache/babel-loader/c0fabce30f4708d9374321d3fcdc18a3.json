{"ast":null,"code":"var _jsxFileName = \"D:\\\\trueapp\\\\true\\\\src\\\\componets\\\\Dashboard\\\\Add_company\\\\Add_company.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Add_company extends Component {\n  constructor() {\n    super();\n    this.state = {\n      fields: {},\n      errors: {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.AddCompanySendDetails = this.AddCompanySendDetails.bind(this);\n  }\n\n  AddCompanySendDetails(e) {\n    e.preventDefault();\n\n    if (this.handleValidation()) {\n      let init = {\n        method: 'POST',\n        headers: {\n          'content-type': 'multipart/form-data'\n        },\n        mode: 'cors',\n        cache: 'default',\n        dataType: 'json',\n        type: 'POST',\n        async: true\n      };\n      /**START GET LOCALSTORAGE DATA */\n\n      const sessionData = localStorage.getItem('formData');\n      const AllFormData = JSON.parse(sessionData);\n      /**END GET LOCALSTORAGE DATA */\n\n      const company_name = this.state.fields.legal_entity_name;\n      const email = this.state.fields.email;\n      const mobile_no = this.state.fields.mobile_no;\n      const city = this.state.fields.city;\n      const pan_no = this.state.fields.pan_no;\n      const cin_no = this.state.fields.cin_no;\n      const gst_no = this.state.fields.gst_no;\n      const address = this.state.fields.address;\n      const licence_id = AllFormData.data.data.tpsData.lid;\n      const company_id = AllFormData.data.data.tpsData.company_id;\n      alert(company_id);\n      const token = AllFormData.data.data.tpsData.token;\n      let formData = new FormData();\n      formData.append('company_name', company_name);\n      formData.append('email', email);\n      formData.append('phone', mobile_no);\n      formData.append('city', city);\n      formData.append('pan_no', pan_no);\n      formData.append('cin_no', cin_no);\n      formData.append('gst_no', gst_no);\n      formData.append('address_line1', address);\n      formData.append('lid', licence_id);\n      formData.append('cid', company_id);\n      formData.append('token', token);\n      axios.post('https://idea.truebook.in/tps_api/index.php?view=companysetup', formData, init).then(response => {\n        this.props.history.push(\"/list_company\");\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      alert(\"Please Fill Up Fields\"); //    this.props.history.push(\"/register\");\n    }\n  }\n  /**VALIDATION ADD COMPANY FORM HERE..... */\n\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true; //Name\n\n    if (!fields[\"legal_entity_name\"]) {\n      formIsValid = false;\n      errors[\"legal_entity_name\"] = \"*Name is required\";\n    } //Email\n\n\n    if (!fields[\"email\"]) {\n      formIsValid = false;\n      errors[\"email\"] = \"*Email is Required\";\n    }\n\n    if (typeof fields[\"email\"] !== \"undefined\") {\n      let lastAtPos = fields[\"email\"].lastIndexOf('@');\n      let lastDotPos = fields[\"email\"].lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && fields[\"email\"].length - lastDotPos > 2)) {\n        formIsValid = false;\n        errors[\"email\"] = \"Email is not valid\";\n      }\n    } // mobileno\n\n\n    if (!fields[\"mobile_no\"]) {\n      formIsValid = false;\n      errors[\"mobile_no\"] = \"Only Digits Allow\";\n    }\n\n    if (!fields[\"pan_no\"]) {\n      formIsValid = false;\n      errors[\"pan_no\"] = \"Pan Number Required\";\n    }\n\n    if (!fields[\"gst_no\"]) {\n      formIsValid = false;\n      errors[\"gst_no\"] = \"Gst Number Required\";\n    }\n\n    if (!fields[\"cin_no\"]) {\n      formIsValid = false;\n      errors[\"cin_no\"] = \"Cin Number Required\";\n    }\n\n    if (!fields[\"city\"]) {\n      formIsValid = false;\n      errors[\"city\"] = \"City Is Requied\";\n    }\n\n    if (!fields[\"address\"]) {\n      formIsValid = false;\n      errors[\"address\"] = \"Address Is Requied\";\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({\n      fields\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Add_company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"sc-add-company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Add Company Details \"), React.createElement(\"div\", {\n      className: \"sc-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      encType: \"multipart/form-data\",\n      className: \"add_company_form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"field_company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"labelname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Name Of Legal Entity:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"legal_entity_name\",\n      value: this.state.fields[\"legal_entity_name\"],\n      onChange: this.handleChange.bind(this, \"legal_entity_name\"),\n      placeholder: \"Name of Legal entity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsgcompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, this.state.errors.legal_entity_name)), React.createElement(\"div\", {\n      className: \"field_company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"labelname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"City:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"city\",\n      value: this.state.fields[\"city\"],\n      onChange: this.handleChange.bind(this, \"city\"),\n      placeholder: \"City\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsgcompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, this.state.errors.city)), React.createElement(\"div\", {\n      className: \"field_company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"labelname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"PAN NO:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"pan_no\",\n      value: this.state.fields[\"pan_no\"],\n      onChange: this.handleChange.bind(this, \"pan_no\"),\n      placeholder: \"PAN NO\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsgcompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, this.state.errors.pan_no)), React.createElement(\"div\", {\n      className: \"field_company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"labelname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"GST NO:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"gst_no\",\n      value: this.state.fields[\"gst_no\"],\n      onChange: this.handleChange.bind(this, \"gst_no\"),\n      placeholder: \"GST NO\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsgcompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, this.state.errors.gst_no)), React.createElement(\"div\", {\n      className: \"field_company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"labelname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"CIN NO:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"cin_no\",\n      value: this.state.fields[\"cin_no\"],\n      onChange: this.handleChange.bind(this, \"cin_no\"),\n      placeholder: \"CIN NO\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsgcompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, this.state.errors.cin_no)), React.createElement(\"div\", {\n      className: \"field_company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"labelname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Email:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      value: this.state.fields[\"email\"],\n      onChange: this.handleChange.bind(this, \"email\"),\n      placeholder: \"Email Id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsgcompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, this.state.errors.email)), React.createElement(\"div\", {\n      className: \"field_company\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"labelname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Mobile No:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"mobile_no\",\n      value: this.state.fields[\"mobile_no\"],\n      onChange: this.handleChange.bind(this, \"mobile_no\"),\n      placeholder: \"Contact Number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsgcompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, this.state.errors.mobile_no)), React.createElement(\"div\", {\n      className: \"clr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"labelname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"\\xA0\\xA0Address:\"), React.createElement(\"textarea\", {\n      name: \"address\",\n      value: this.state.fields[\"address\"],\n      onChange: this.handleChange.bind(this, \"address\"),\n      placeholder: \"Address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"errorMsgcompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, this.state.errors.address), React.createElement(\"div\", {\n      className: \"btncompany\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      onClick: this.AddCompanySendDetails.bind(this),\n      className: \"save\",\n      value: \"Save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"save_close\",\n      value: \"Save & Next\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default Add_company;","map":{"version":3,"sources":["D:\\trueapp\\true\\src\\componets\\Dashboard\\Add_company\\Add_company.js"],"names":["React","Component","axios","Add_company","constructor","state","fields","errors","handleChange","bind","AddCompanySendDetails","e","preventDefault","handleValidation","init","method","headers","mode","cache","dataType","type","async","sessionData","localStorage","getItem","AllFormData","JSON","parse","company_name","legal_entity_name","email","mobile_no","city","pan_no","cin_no","gst_no","address","licence_id","data","tpsData","lid","company_id","alert","token","formData","FormData","append","post","then","response","props","history","push","catch","err","console","log","formIsValid","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","setState","field","target","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nclass Add_company extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            fields: {},\r\n            errors: {}\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.AddCompanySendDetails = this.AddCompanySendDetails.bind(this);\r\n    }\r\n\r\n\r\n    AddCompanySendDetails(e){\r\n        e.preventDefault();\r\n      if(this.handleValidation()){\r\n        let init = {\r\n          method: 'POST',\r\n          headers: { 'content-type': 'multipart/form-data' },\r\n          mode: 'cors',\r\n          cache: 'default',\r\n          dataType: 'json',\r\n          type:     'POST',\r\n          async:    true,\r\n        };\r\n         /**START GET LOCALSTORAGE DATA */\r\n\r\n         const sessionData = localStorage.getItem('formData');\r\n         const AllFormData = JSON.parse(sessionData);\r\n\r\n        /**END GET LOCALSTORAGE DATA */\r\n\r\n        const company_name = this.state.fields.legal_entity_name\r\n        const email = this.state.fields.email\r\n        const mobile_no = this.state.fields.mobile_no\r\n        const city = this.state.fields.city\r\n        const pan_no = this.state.fields.pan_no\r\n        const cin_no = this.state.fields.cin_no\r\n        const gst_no = this.state.fields.gst_no\r\n        const address = this.state.fields.address\r\n        const licence_id = AllFormData.data.data.tpsData.lid\r\n        const company_id = AllFormData.data.data.tpsData.company_id\r\n        alert(company_id);\r\n        const token = AllFormData.data.data.tpsData.token\r\n\r\n        let formData = new FormData();\r\n\r\n        formData.append('company_name', company_name);\r\n        formData.append('email', email);\r\n        formData.append('phone', mobile_no);\r\n        formData.append('city', city);\r\n        formData.append('pan_no', pan_no);\r\n        formData.append('cin_no', cin_no);\r\n        formData.append('gst_no', gst_no);\r\n        formData.append('address_line1', address);\r\n        formData.append('lid', licence_id);\r\n        formData.append('cid', company_id);\r\n        formData.append('token', token);\r\n      \r\n      axios.post('https://idea.truebook.in/tps_api/index.php?view=companysetup',formData,init)\r\n      .then(response => {\r\n        this.props.history.push(\"/list_company\");\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n     }else{\r\n       alert(\"Please Fill Up Fields\");\r\n    //    this.props.history.push(\"/register\");\r\n     }\r\n      \r\n    }\r\n     /**VALIDATION ADD COMPANY FORM HERE..... */\r\n     handleValidation(){\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n   \r\n        //Name\r\n        if(!fields[\"legal_entity_name\"]){\r\n           formIsValid = false;\r\n           errors[\"legal_entity_name\"] = \"*Name is required\";\r\n        }\r\n   \r\n        //Email\r\n        if(!fields[\"email\"]){\r\n           formIsValid = false;\r\n           errors[\"email\"] = \"*Email is Required\";\r\n        }\r\n   \r\n        if(typeof fields[\"email\"] !== \"undefined\"){\r\n           let lastAtPos = fields[\"email\"].lastIndexOf('@');\r\n           let lastDotPos = fields[\"email\"].lastIndexOf('.');\r\n   \r\n           if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') === -1 && lastDotPos > 2 && (fields[\"email\"].length - lastDotPos) > 2)) {\r\n              formIsValid = false;\r\n              errors[\"email\"] = \"Email is not valid\";\r\n            }\r\n       } \r\n      // mobileno\r\n        if(!fields[\"mobile_no\"]){\r\n           formIsValid = false;\r\n           errors[\"mobile_no\"] = \"Only Digits Allow\";\r\n        }        \r\n        if(!fields[\"pan_no\"]){\r\n            formIsValid = false;\r\n            errors[\"pan_no\"] = \"Pan Number Required\";\r\n         }   \r\n          if(!fields[\"gst_no\"]){\r\n           formIsValid = false;\r\n           errors[\"gst_no\"] = \"Gst Number Required\";\r\n        }   \r\n        if(!fields[\"cin_no\"]){\r\n            formIsValid = false;\r\n            errors[\"cin_no\"] = \"Cin Number Required\";\r\n         }   \r\n         if(!fields[\"city\"]){\r\n            formIsValid = false;\r\n            errors[\"city\"] = \"City Is Requied\";\r\n         }  \r\n         if(!fields[\"address\"]){\r\n            formIsValid = false;\r\n            errors[\"address\"] = \"Address Is Requied\";\r\n         }    \r\n     \r\n   \r\n       this.setState({errors: errors});\r\n       return formIsValid;\r\n   }\r\n   \r\n  \r\n    handleChange(field, e){         \r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;        \r\n        this.setState({fields});\r\n    }\r\n    render()\r\n    {\r\n        return(\r\n            <div className=\"Add_company\">\r\n                <div id=\"sc-add-company\">\r\n                    <h1>Add Company Details </h1>\r\n                    <div className=\"sc-container\">\r\n                        <form encType=\"multipart/form-data\" className=\"add_company_form\">\r\n                            <div className=\"field_company\">\r\n                                <div className=\"labelname\">Name Of Legal Entity:</div>\r\n                                <input type=\"text\" name=\"legal_entity_name\" value={this.state.fields[\"legal_entity_name\"]} onChange={this.handleChange.bind(this, \"legal_entity_name\")} placeholder=\"Name of Legal entity\" />\r\n                                <span className=\"errorMsgcompany\">{this.state.errors.legal_entity_name}</span>\r\n                            </div>\r\n                            \r\n                            <div className=\"field_company\">\r\n                            <div className=\"labelname\">City:</div>\r\n                                <input type=\"text\" name=\"city\" value={this.state.fields[\"city\"]} onChange={this.handleChange.bind(this, \"city\")} placeholder=\"City\" />\r\n                                <span className=\"errorMsgcompany\">{this.state.errors.city}</span>\r\n                            </div>\r\n                            \r\n                            <div className=\"field_company\">\r\n                            <div className=\"labelname\">PAN NO:</div>\r\n                                <input type=\"text\" name=\"pan_no\" value={this.state.fields[\"pan_no\"]} onChange={this.handleChange.bind(this, \"pan_no\")} placeholder=\"PAN NO\" />\r\n                                <span className=\"errorMsgcompany\">{this.state.errors.pan_no}</span>\r\n                            </div>\r\n                           \r\n                            <div className=\"field_company\">\r\n                            <div className=\"labelname\">GST NO:</div>\r\n                                <input type=\"text\" name=\"gst_no\" value={this.state.fields[\"gst_no\"]} onChange={this.handleChange.bind(this, \"gst_no\")} placeholder=\"GST NO\" />\r\n                                <span className=\"errorMsgcompany\">{this.state.errors.gst_no}</span>\r\n                            </div>\r\n                            \r\n                            <div className=\"field_company\">\r\n                            <div className=\"labelname\">CIN NO:</div>\r\n                                <input type=\"text\" name=\"cin_no\" value={this.state.fields[\"cin_no\"]} onChange={this.handleChange.bind(this, \"cin_no\")} placeholder=\"CIN NO\" />\r\n                                <span className=\"errorMsgcompany\">{this.state.errors.cin_no}</span>\r\n                            </div>\r\n                           \r\n                            <div className=\"field_company\">\r\n                            <div className=\"labelname\">Email:</div>\r\n                                <input type=\"text\" name=\"email\" value={this.state.fields[\"email\"]} onChange={this.handleChange.bind(this, \"email\")} placeholder=\"Email Id\" />\r\n                                <span className=\"errorMsgcompany\">{this.state.errors.email}</span>\r\n                            </div>\r\n                           \r\n                            <div className=\"field_company\">\r\n                            <div className=\"labelname\">Mobile No:</div>\r\n                                <input type=\"text\" name=\"mobile_no\" value={this.state.fields[\"mobile_no\"]} onChange={this.handleChange.bind(this, \"mobile_no\")} placeholder=\"Contact Number\" />\r\n                                <span className=\"errorMsgcompany\">{this.state.errors.mobile_no}</span>\r\n                            </div>\r\n                            \r\n                            <div className=\"clr\"></div>\r\n                                <div className=\"labelname\">&nbsp;&nbsp;Address:</div>\r\n                                <textarea name=\"address\" value={this.state.fields[\"address\"]} onChange={this.handleChange.bind(this, \"address\")} placeholder=\"Address\"></textarea>\r\n                                <span className=\"errorMsgcompany\">{this.state.errors.address}</span>\r\n                           \r\n                            <div className=\"btncompany\">\r\n                            <input type=\"submit\" onClick={this.AddCompanySendDetails.bind(this)} className=\"save\" value=\"Save\" />\r\n                            <input type=\"submit\" className=\"save_close\" value=\"Save & Next\" />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Add_company;"]},"metadata":{},"sourceType":"module"}